(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cb392d50"],{"159b":function(t,e,a){var s=a("da84"),r=a("fdbc"),o=a("17c2"),i=a("9112");for(var n in r){var l=s[n],c=l&&l.prototype;if(c&&c.forEach!==o)try{i(c,"forEach",o)}catch(d){c.forEach=o}}},"17c2":function(t,e,a){"use strict";var s=a("b727").forEach,r=a("a640"),o=a("ae40"),i=r("forEach"),n=o("forEach");t.exports=i&&n?[].forEach:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}},4160:function(t,e,a){"use strict";var s=a("23e7"),r=a("17c2");s({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},8418:function(t,e,a){"use strict";var s=a("c04e"),r=a("9bf2"),o=a("5c6c");t.exports=function(t,e,a){var i=s(e);i in t?r.f(t,i,o(0,a)):t[i]=a}},"99af":function(t,e,a){"use strict";var s=a("23e7"),r=a("d039"),o=a("e8b5"),i=a("861d"),n=a("7b0b"),l=a("50c4"),c=a("8418"),d=a("65f0"),u=a("1dde"),p=a("b622"),f=a("2d00"),m=p("isConcatSpreadable"),v=9007199254740991,g="Maximum allowed index exceeded",h=f>=51||!r((function(){var t=[];return t[m]=!1,t.concat()[0]!==t})),_=u("concat"),C=function(t){if(!i(t))return!1;var e=t[m];return void 0!==e?!!e:o(t)},b=!h||!_;s({target:"Array",proto:!0,forced:b},{concat:function(t){var e,a,s,r,o,i=n(this),u=d(i,0),p=0;for(e=-1,s=arguments.length;e<s;e++)if(o=-1===e?i:arguments[e],C(o)){if(r=l(o.length),p+r>v)throw TypeError(g);for(a=0;a<r;a++,p++)a in o&&c(u,p,o[a])}else{if(p>=v)throw TypeError(g);c(u,p++,o)}return u.length=p,u}})},b275:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"container"},[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}},[a("template",{slot:"default"},[a("div",{staticClass:"loadingio-spinner-rolling-zw2jail0s7"},[a("div",{staticClass:"ldio-ufznupyt3qm"},[a("div")])])])],2),a("h2",{staticClass:"mt-2 mb-5 font-weight-bold",attrs:{id:"peopleData"}},[t._v("顧客資訊")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6"},[a("validation-observer",{scopedSlots:t._u([{key:"default",fn:function(e){var s=e.invalid;return[a("form",[a("validation-provider",{staticClass:"form-group",attrs:{rules:"required",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors,r=e.classes;return[a("label",{staticClass:"h3",attrs:{for:"inputName"}},[t._v(" 姓名 "),a("sup",{staticClass:"text-danger"},[t._v("*")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.person.name,expression:"person.name"}],staticClass:"form-control form-control-lg",class:r,attrs:{type:"text",id:"inputName",name:"姓名",placeholder:"訂購人姓名"},domProps:{value:t.person.name},on:{input:function(e){e.target.composing||t.$set(t.person,"name",e.target.value)}}}),a("small",{staticClass:"invalid-feedback"},[t._v(t._s(s[0]))])]}}],null,!0)}),a("validation-provider",{staticClass:"form-group",attrs:{rules:"email|required",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors,r=e.classes;return[a("label",{staticClass:"h3",attrs:{for:"inputEmail"}},[t._v(" 信箱 "),a("sup",{staticClass:"text-danger"},[t._v("*")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.person.email,expression:"person.email"}],staticClass:"form-control form-control-lg",class:r,attrs:{type:"email",id:"inputEmail",name:"Email",placeholder:"訂購人信箱"},domProps:{value:t.person.email},on:{input:function(e){e.target.composing||t.$set(t.person,"email",e.target.value)}}}),a("small",{staticClass:"invalid-feedback"},[t._v(t._s(s[0]))])]}}],null,!0)}),a("validation-provider",{staticClass:"form-group",attrs:{rules:"min:10|required",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors,r=e.classes;return[a("label",{staticClass:"h3",attrs:{for:"inputTel"}},[t._v(" 電話 "),a("sup",{staticClass:"text-danger"},[t._v("*")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.person.tel,expression:"person.tel"}],staticClass:"form-control form-control-lg",class:r,attrs:{type:"tel",id:"inputTel",name:"電話",placeholder:"訂購人電話"},domProps:{value:t.person.tel},on:{input:function(e){e.target.composing||t.$set(t.person,"tel",e.target.value)}}}),a("small",{staticClass:"invalid-feedback"},[t._v(t._s(s[0]))])]}}],null,!0)}),a("validation-provider",{staticClass:"form-group",attrs:{rules:"min:6|required",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors,r=e.classes;return[a("label",{staticClass:"h3",attrs:{for:"inputAddress"}},[t._v(" 地址 "),a("sup",{staticClass:"text-danger"},[t._v("*")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.person.address,expression:"person.address"}],staticClass:"form-control form-control-lg",class:r,attrs:{type:"text",id:"inputAddress",name:"地址",placeholder:"訂購人地址"},domProps:{value:t.person.address},on:{input:function(e){e.target.composing||t.$set(t.person,"address",e.target.value)}}}),a("small",{staticClass:"invalid-feedback"},[t._v(t._s(s[0]))])]}}],null,!0)}),a("validation-provider",{staticClass:"form-group",attrs:{rules:"required",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("label",{staticClass:"h3",attrs:{for:"selectPay"}},[t._v(" 付款方式 "),a("sup",{staticClass:"text-danger"},[t._v("*")])]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.person.payment,expression:"person.payment"}],staticClass:"form-control form-control-lg",attrs:{name:"selectPay",id:"selectPay"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.person,"payment",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",disabled:""}},[t._v("請選擇付款方式")]),t._l(t.selectPay,(function(e,s){return a("option",{key:s,domProps:{value:e}},[t._v(t._s(e))])}))],2),a("small",{staticClass:"invalid-feedback"},[t._v(t._s(s[0]))])]}}],null,!0)}),a("div",{staticClass:"form-group"},[a("label",{staticClass:"h3",attrs:{for:"inputRemarks"}},[t._v("留言")]),a("textarea",{staticClass:"form-control",attrs:{name:"remarks",id:"inputRemarks",cols:"30",rows:"10"}})]),a("div",{staticClass:"d-flex justify-content-center mb-5"},[a("input",{staticClass:"btn btn-primary btn-lg btn-block",attrs:{type:"submit",value:"結帳",disabled:s},on:{click:function(e){return e.preventDefault(),t.order(e)}}})])],1)]}}])})],1),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"custom__category--top sticky-top"},[a("table",{staticClass:"table table-borderless sticky-top"},[t._m(0),a("tbody",t._l(t.shopping.data,(function(e,s){return a("tr",{key:s,staticClass:"border-top"},[a("td",{staticClass:"align-middle text-nowrap"},[a("span",{staticClass:"text-primary"},[t._v(t._s(e.product.title))]),a("span",{staticClass:"d-block"},[t._v(" "+t._s(t._f("commaFormat")(e.product.price))+" "),a("span",{staticClass:"d-md-none"},[t._v("* "+t._s(e.quantity))])])]),a("td",{staticClass:"align-middle"},[a("img",{staticClass:"inner__cartImg rounded",attrs:{src:e.product.imageUrl[0],alt:""}})]),a("td",{staticClass:"align-middle text-center d-none d-md-block mt-4"},[t._v(t._s(e.quantity))])])})),0)]),a("h3",{staticClass:"text-right mr-3"},[t._v("總計金額 : "+t._s(t._f("commaFormat")(t.shopping.moneyTotal)))])])])])],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("商品名稱")]),a("th",[t._v("商品預覽")]),a("th",{staticClass:"text-center d-none d-md-block"},[t._v("數量")])])])}],o=(a("99af"),a("4160"),a("159b"),{data:function(){return{hexAPI:{data:[]},selectPay:["WebATM","ATM","Barcode","Credit","ApplePay","GooglePay"],person:{name:"",email:"",tel:"",address:"",payment:""},shopping:{data:[],moneyTotal:0},isLoading:!1,message:""}},methods:{getShopping:function(){var t=this;t.isLoading=!0,t.axios.get("".concat("https://course-ec-api.hexschool.io/api/").concat("fcf1d512-cee6-497b-8ece-d4b691cf9fd4","/ec/shopping")).then((function(e){t.shopping.data=e.data.data;var a=0;t.shopping.data.forEach((function(t){a+=t.product.price})),t.shopping.moneyTotal=a,t.isLoading=!1}))},order:function(){var t=this;t.isLoading=!0,t.axios.post("".concat("https://course-ec-api.hexschool.io/api/").concat("fcf1d512-cee6-497b-8ece-d4b691cf9fd4","/ec/orders"),t.person).then((function(e){t.isLoading=!1,t.$swal({icon:"success",iconHtml:'<span class="material-icons h2 mb-0">flight_takeoff</span>',title:"感謝您的訂購!",text:"預祝您旅途愉快~",confirmButtonText:"確定"}).then((function(e){e.value&&t.$router.push("/products")}))}))}},created:function(){this.getShopping()}}),i=o,n=a("2877"),l=Object(n["a"])(i,s,r,!1,null,null,null);e["default"]=l.exports},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-cb392d50.71e3e883.js.map